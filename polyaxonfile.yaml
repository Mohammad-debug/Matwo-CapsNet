---
version: 1

kind: experiment

framework: pytorch

tags: [examples]
 
build:
  image: tensorflow/tensorflow:1.15.2-gpu
  build_steps:
    - pip install -r requirements.txt
  env_vars:
    - ['TORCH_HOME', "/data/PytorchModelZoo"]

environment:
  resources:
    cpu:
      requests: 3
      limits: 3
    memory:
      requests: 1024
      limits: 4098
    gpu:
      requests: 1
      limits: 1

declarations:


run:
  cmd: python -u main_train_and_test.py